Releasing process
=================

This file provides the steps for releasing a new version of c2cgeoportal.

Build
-----

You have to launch buildout to build the compressed css, javascript files,
and compile the translations::

    $ ./buildout/bin/buildout

Then commit and push the *.mo, *.js, and *.css files that have been generated.

Tests
-----

Verify that all the tests pass::

    $ python setup.py nosetests

If a test fails, then fix it before doing the release.

Version
-------

Check that version number is correct in ``setup.py``. If not, set it to the
correct value, then commit and push that.

Release
-------

You can now actually do the release and upload to the internal C2C pypi
server::

    $ python setup.py sdist upload -r internal

For this command to work correctly, you should have configure the ``internal``
C2C pypi server in your ``~/.pypirc`` file. Here is an exemple of a
``~/.pypirc`` file that can be used to upload packages to our server::

    $ cat ~/.pypirc

    [distutils]
    index-servers =
        pypi
        internal

    [pypi]
    repository:http://pypi.camptocamp.net/pypi
    username:<my_pypi_login>
    password:<my_pypi_password>

    [internal]
    username:c2c
    password:Ilovepython
    repository:http://pypi.camptocamp.net/internal-pypi/simple

Documentation
-------------

TODO: update the doc?
